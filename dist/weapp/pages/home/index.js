(wx["webpackJsonp"]=wx["webpackJsonp"]||[]).push([[18],{49:function(e,t,c){e.exports=c.p+"pages/home/assets/b.png"},71:function(e,t,c){},82:function(e,t,c){"use strict";c.r(t);var a=c(3),n=c(7),s=c(15),i=c(32),o=c(6),l=c(5),r=c(2),u=c(24),b=c(49),j=c.n(b),d=(c(71),c(1));function h(e){Object(o["navigateTo"])({url:"/pages/courseDetail/index?id=".concat(e)})}function m(){var e=Object(l["useState"])(1),t=Object(n["a"])(e,2),c=t[0],a=t[1],b=Object(l["useState"])(!0),m=Object(n["a"])(b,2),O=m[0],f=m[1],x=Object(l["useState"])(0),p=Object(n["a"])(x,2),g=p[0],v=p[1],N=Object(l["useState"])(null),y=Object(n["a"])(N,2),T=y[0],w=y[1],z=Object(l["useState"])(null),S=Object(n["a"])(z,2),k=S[0],C=S[1],I=Object(l["useState"])([]),F=Object(n["a"])(I,2),A=F[0],E=F[1];function J(){s["a"].get({url:"/api/banner/list",data:{bannerType:0,page:1,size:5}}).then((function(e){var t=e.data;Array.isArray(null===t||void 0===t?void 0:t.list)&&w(t.list)}))}function L(){s["a"].get({url:"/api/course/typeList",data:{page:1,size:5}}).then((function(e){var t=e.data;E(null===t||void 0===t?void 0:t.list)}))}function P(){f(!0),s["a"].get({url:"/api/course/list",data:{page:c,size:10}}).then((function(e){var t=e.data;v(t.pages),C((k||[]).concat(t.list||[]))})).finally((function(){f(!1)}))}function B(){return null==k||c<g}function D(){B()&&!O&&a(c+1)}return Object(l["useEffect"])((function(){L(),P(),J()}),[]),Object(l["useEffect"])(P,[c]),Object(d["jsx"])(r["h"],{className:"home bg-gray",children:Object(d["jsxs"])(r["h"],{className:"container full-height",children:[Object(d["jsx"])(i["a"],{bannerUrls:T}),Object(d["jsx"])(r["h"],{className:"hot-course-list font-size-14",children:null===A||void 0===A?void 0:A.map((function(e){var t=e.typeId,c=e.typeName,a=e.typeThumb;return Object(d["jsxs"])(r["h"],{className:"hot-course-item align-center",onClick:function(){Object(o["navigateTo"])({url:"/pages/courseGroup/index?typeId=".concat(t)})},children:[Object(d["jsx"])(r["b"],{mode:"widthFix",className:"course-icon",src:a}),Object(d["jsx"])(r["h"],{className:"font-size-12 m-t-5",children:c})]},t)}))}),Object(d["jsx"])(r["b"],{src:j.a,mode:"widthFix",className:"banner m-b-15",onClick:function(){(null===k||void 0===k?void 0:k.length)>0&&h(k[0].courseId)}}),Object(d["jsx"])(r["h"],{className:"font-size-14 m-b-10",children:Object(d["jsx"])(r["g"],{className:"m-l-10 font-bold",children:"\u5168\u90e8"})}),Object(d["jsx"])(r["h"],{className:"course-box",children:Object(d["jsx"])(r["d"],{scrollY:!0,onScrollToLower:D,children:Object(d["jsxs"])(r["h"],{className:"course-list",children:[null===k||void 0===k?void 0:k.map((function(e){var t=e.courseId,c=e.courseThumb,a=e.courseTitle;return Object(d["jsxs"])(r["h"],{onClick:function(){h(t)},className:"course-card align-center",children:[Object(d["jsx"])(r["h"],{className:"thumbnail-box",children:Object(d["jsx"])(r["b"],{src:c,mode:"widthFix",className:"image"})}),Object(d["jsx"])(r["h"],{className:"title font-size-14 m-t-5",children:a})]},t)})),Object(d["jsx"])(u["a"],{className:"infinite-load",hasMore:B()})]})})})]})})}var O={navigationBarTitleText:"\u7231\u601d\u5854\u7f16\u7a0b"};Page(Object(a["createPageConfig"])(m,"pages/home/index",{root:{cn:[]}},O||{}))}},[[82,0,1,2,3]]]);