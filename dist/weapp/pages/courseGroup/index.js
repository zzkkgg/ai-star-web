(wx["webpackJsonp"]=wx["webpackJsonp"]||[]).push([[14],{79:function(e,t,c){},87:function(e,t,c){"use strict";c.r(t);var n=c(3),a=c(7),i=c(15),o=c(6),s=c(5),l=c(33),u=c(20),r=c(2),d=c(24),j=(c(79),c(1));function b(){var e,t=Object(s["useState"])(1),c=Object(a["a"])(t,2),n=c[0],b=c[1],f=Object(s["useState"])(!1),O=Object(a["a"])(f,2),p=O[0],h=(O[1],Object(s["useState"])("")),v=Object(a["a"])(h,2),g=v[0],x=v[1],m=Object(s["useState"])(0),y=Object(a["a"])(m,2),N=y[0],w=y[1],S=Object(s["useState"])(null),I=Object(a["a"])(S,2),T=I[0],k=I[1],z=Object(s["useState"])(""),C=Object(a["a"])(z,2),D=C[0],E=C[1],J=Object(s["useState"])([]),L=Object(a["a"])(J,2),P=L[0],Y=L[1];function B(){x(Date.now())}function F(){i["a"].get({url:"/api/course/typeList",data:{page:1,size:40}}).then((function(e){var t=e.data;Y(null===t||void 0===t?void 0:t.list)}))}function G(){i["a"].get({url:"/api/course/list",data:{page:n,size:10,typeId:D}}).then((function(e){var t=e.data;w(null===t||void 0===t?void 0:t.pages),k(null===t||void 0===t?void 0:t.list)}))}function M(){return null==T||n<N}function q(){M()&&!p&&(b(n+1),B())}return Object(s["useEffect"])((function(){var e=Object(u["a"])(),t=e.typeId;E(t),F(),B()}),[]),Object(s["useEffect"])((function(){g&&G()}),[g]),Object(j["jsxs"])(r["h"],{className:"course-group container full-height bg-gray",children:[Object(j["jsx"])(r["h"],{className:"group-list full-height font-size-14",children:Object(j["jsx"])(r["d"],{scrollY:!0,children:null===P||void 0===P?void 0:P.map((function(e){var t=e.typeId,c=e.typeName,n=e.typeThumb;return Object(j["jsxs"])(r["h"],{className:"group-item ".concat(D===t?"active":"normal"),onClick:function(){E(t),b(1),w(0),k(null),B()},children:[Object(j["jsx"])(r["b"],{src:n,className:"image",mode:"widthFix"}),Object(j["jsx"])(r["g"],{children:c})]},t)}))})}),Object(j["jsx"])(r["h"],{className:"course-list flex-1 full-height",children:Object(j["jsxs"])(r["d"],{scrollY:!0,className:"scroll-view",onScrollToLower:q,children:[Object(j["jsx"])(r["h"],{className:"font-bold m-b-10 font-size-14 align-center",children:null===P||void 0===P||null===(e=P.find((function(e){return e.typeId===D})))||void 0===e?void 0:e.typeName}),null===T||void 0===T?void 0:T.map((function(e){return Object(j["jsx"])(l["a"],{data:e,onClick:function(){Object(o["navigateTo"])({url:"/pages/courseDetail/index?id=".concat(e.courseId)})}},e.courseId)})),Object(j["jsx"])(d["a"],{hasMore:M()})]})})]})}var f=b,O={navigationBarTitleText:"\u7231\u601d\u5854\u7f16\u7a0b"};Page(Object(n["createPageConfig"])(f,"pages/courseGroup/index",{root:{cn:[]}},O||{}))}},[[87,0,1,2,3]]]);