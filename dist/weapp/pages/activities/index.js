(wx["webpackJsonp"]=wx["webpackJsonp"]||[]).push([[8],{73:function(t,e,a){},83:function(t,e,a){"use strict";a.r(e);var c=a(3),n=a(7),i=a(15),s=a(32),l=a(6),o=a(5),r=a(33),u=a(2),b=a(24),j=(a(73),a(1));function O(t,e){return t===e?"active":"normal"}function f(){var t=Object(o["useState"])(null),e=Object(n["a"])(t,2),a=e[0],c=e[1],f=Object(o["useState"])(1),d=Object(n["a"])(f,2),v=d[0],g=d[1],m=Object(o["useState"])(!1),p=Object(n["a"])(m,2),x=p[0],h=p[1],S=Object(o["useState"])(0),w=Object(n["a"])(S,2),y=w[0],N=w[1],k=Object(o["useState"])(""),T=Object(n["a"])(k,2),C=T[0],z=T[1],A=Object(o["useState"])(null),D=Object(n["a"])(A,2),E=D[0],I=D[1],J=Object(o["useState"])(0),P=Object(n["a"])(J,2),B=P[0],L=P[1];function M(){z(Date.now())}function U(){F()&&!x&&(g(v+1),M())}function Y(){g(1),h(!0),N(0),c(null),M()}function q(){i["a"].get({url:"/api/banner/list",data:{bannerType:1,page:1,size:5}}).then((function(t){var e=t.data;Array.isArray(null===e||void 0===e?void 0:e.list)&&I(e.list)}))}function F(){return null==a||v<y}function G(){h(!0),i["a"].get({url:"/api/".concat(0===B?"activity":"game","/list"),data:{page:v,size:10}}).then((function(t){var e=t.data,n=e.list,i=void 0===n?[]:n,s=e.pages,l=e.pageNum;N(s),c(1===l?i:a.concat(i))})).finally((function(){h(!1)}))}return Object(o["useEffect"])(G,[C]),Object(o["useEffect"])(q,[]),Object(j["jsxs"])(u["h"],{className:"activities font-size-14",children:[Object(j["jsx"])(s["a"],{bannerUrls:E}),Object(j["jsxs"])(u["h"],{className:"tabs align-center m-t-15 m-b-15",children:[Object(j["jsx"])(u["g"],{onClick:function(){L(0),Y()},className:"tab-item m-r-20 ".concat(O(B,0)),children:"\u6d3b\u52a8"}),Object(j["jsx"])(u["g"],{onClick:function(){L(1),Y()},className:"tab-item ".concat(O(B,1)),children:"\u8d5b\u4e8b"})]}),Object(j["jsx"])(u["h"],{className:"list flex-1",children:Object(j["jsxs"])(u["d"],{scrollY:!0,className:"scroll-view",onScrollToLower:U,children:[null===a||void 0===a?void 0:a.map((function(t){var e=t.activityId||t.gameId;return Object(j["jsx"])(r["a"],{data:t,onClick:function(){Object(l["navigateTo"])({url:"/pages/".concat(0===B?"activity":"game","Detail/index?id=").concat(e)})}},e)})),Object(j["jsx"])(b["a"],{hasMore:F()})]})})]})}var d={navigationBarTitleText:"\u7231\u601d\u5854\u7f16\u7a0b"};Page(Object(c["createPageConfig"])(f,"pages/activities/index",{root:{cn:[]}},d||{}))}},[[83,0,1,2,3]]]);